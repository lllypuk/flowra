# UseCase Layer - Priority Tasks

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-22
**–ü—Ä–æ–≥—Ä–µ—Å—Å:** 82% –∑–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üî¥ –ö–†–ò–¢–ò–ß–ù–û - –í—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ

### Task 09: Chat UseCases Testing
**–°—Ç–∞—Ç—É—Å:** üî¥ NOT STARTED
**–í—Ä–µ–º—è:** 3-4 —á–∞—Å–∞
**–ë–ª–æ–∫–∏—Ä—É–µ—Ç:** –ü–µ—Ä–µ—Ö–æ–¥ –∫ infrastructure layer

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Chat UseCases –∏–º–µ—é—Ç **0% test coverage**
- 12 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö UseCases –±–µ–∑ –µ–¥–∏–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ä–∏—Å–∫ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞

**–î–µ–π—Å—Ç–≤–∏–µ:**
```bash
# 1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –ø–ª–∞–Ω
cat docs/tasks/04-impl-usecase/09-chat-tests.md

# 2. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö 12 UseCases
# 3. –î–æ—Å—Ç–∏—á—å coverage >85%
# 4. –£–±–µ–¥–∏—Ç—å—Å—è –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
```

**–î–µ—Ç–∞–ª–∏:** [09-chat-tests.md](./09-chat-tests.md)

**–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:**
- ‚úÖ 60+ unit —Ç–µ—Å—Ç–æ–≤
- ‚úÖ Coverage: 0% ‚Üí >85%
- ‚úÖ Application layer coverage: 64.7% ‚Üí ~75%

---

## üü° –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ - –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ—Å–ª–µ Task 09

### Task 10: Chat Query UseCases Implementation
**–°—Ç–∞—Ç—É—Å:** üü° NOT STARTED
**–í—Ä–µ–º—è:** 1-2 —á–∞—Å–∞
**–ë–ª–æ–∫–∏—Ä—É–µ—Ç:** –ü–æ–ª–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å Chat

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç Query UseCases
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è UI
- Phase 2 –Ω–µ–ø–æ–ª–Ω–∞—è

**–î–µ–π—Å—Ç–≤–∏–µ:**
```bash
# 1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –ø–ª–∞–Ω
cat docs/tasks/04-impl-usecase/10-chat-queries.md

# 2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å 3 Query UseCases:
#    - GetChatUseCase
#    - ListChatsUseCase
#    - ListParticipantsUseCase

# 3. –ù–∞–ø–∏—Å–∞—Ç—å 15 —Ç–µ—Å—Ç–æ–≤
```

**–î–µ—Ç–∞–ª–∏:** [10-chat-queries.md](./10-chat-queries.md)

**–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:**
- ‚úÖ 3 Query UseCases —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ 15 unit —Ç–µ—Å—Ç–æ–≤
- ‚úÖ Phase 2 –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞

---

## üìù –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

### Task 11: Documentation Update
**–°—Ç–∞—Ç—É—Å:** üìù OPTIONAL
**–í—Ä–µ–º—è:** 1 —á–∞—Å

**–û–±–Ω–æ–≤–∏—Ç—å:**
- [ ] README.md
- [ ] ARCHITECTURE_DIAGRAM.md
- [ ] –°–æ–∑–¥–∞—Ç—å API_EXAMPLES.md

---

## üß™ –ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

### Task 12: E2E Tests
**–°—Ç–∞—Ç—É—Å:** üß™ OPTIONAL
**–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞

**–°–æ–∑–¥–∞—Ç—å:**
- [ ] Complete Task workflow test
- [ ] Messaging workflow test
- [ ] Workspace invitation workflow test

---

## ‚è∏Ô∏è –û–¢–õ–û–ñ–ï–ù–û - –°–¥–µ–ª–∞—Ç—å –≤ infrastructure phase

### Task 13: Notification Event Handlers
**–°—Ç–∞—Ç—É—Å:** ‚è∏Ô∏è POSTPONED
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
**–ü—Ä–∏—á–∏–Ω–∞:** –¢—Ä–µ–±—É–µ—Ç Event Bus implementation

### Task 14: CI/CD Setup
**–°—Ç–∞—Ç—É—Å:** ‚è∏Ô∏è POSTPONED
**–í—Ä–µ–º—è:** 1-2 —á–∞—Å–∞
**–ü—Ä–∏—á–∏–Ω–∞:** –ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å infrastructure

---

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –°–µ–≥–æ–¥–Ω—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):
```bash
# 1. Chat Tests (3.5 —á–∞—Å–∞)
cd internal/application/chat
# –°–ª–µ–¥–æ–≤–∞—Ç—å –ø–ª–∞–Ω—É –≤ 09-chat-tests.md
go test -v -coverprofile=coverage.out ./...

# 2. Query UseCases (2 —á–∞—Å–∞)
# –°–ª–µ–¥–æ–≤–∞—Ç—å –ø–ª–∞–Ω—É –≤ 10-chat-queries.md
go test -v -run Query ./...
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:
```bash
# –û–±—â–∏–π coverage
go test -coverprofile=/tmp/coverage.out ./internal/application/...
go tool cover -func=/tmp/coverage.out | grep total

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: >75% (—Å–µ–π—á–∞—Å 64.7%)
```

### –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
```bash
# –û–±–Ω–æ–≤–∏—Ç—å —Ç—Ä–µ–∫–µ—Ä
vim docs/tasks/04-impl-usecase/PROGRESS_TRACKER.md
# –û—Ç–º–µ—Ç–∏—Ç—å Phase 2 –∫–∞–∫ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—É—é

# –ì–æ—Ç–æ–≤–æ –∫ –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ infrastructure layer!
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
```
‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ:     5/8 —Ñ–∞–∑ (62.5%)
üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ:    3/8 —Ñ–∞–∑ (37.5%)
‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ:     0/8 —Ñ–∞–∑

Overall: 82% complete

–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏:
üî¥ Task 09: Chat Tests        - NOT STARTED
üü° Task 10: Query UseCases    - NOT STARTED
```

### –¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–ø–æ—Å–ª–µ Task 09+10):
```
‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ:     7/8 —Ñ–∞–∑ (87.5%)
üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ:    1/8 —Ñ–∞–∑ (12.5%)

Overall: ~95% complete

Application coverage: 64.7% ‚Üí ~82%
Chat coverage: 0% ‚Üí >85%
```

---

## üöÄ –ü–ª–∞–Ω –Ω–∞ –Ω–µ–¥–µ–ª—é

### –î–µ–Ω—å 1 (–°–ï–ì–û–î–ù–Ø):
- [x] –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- [x] –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω—ã
- [ ] **Task 09: Chat Tests (3.5 —á–∞—Å–∞)** ‚Üê –ö–†–ò–¢–ò–ß–ù–û

### –î–µ–Ω—å 2:
- [ ] **Task 10: Query UseCases (2 —á–∞—Å–∞)** ‚Üê –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢
- [ ] Task 11: Documentation (1 —á–∞—Å) - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

### –î–µ–Ω—å 3+:
- [ ] Task 12: E2E Tests - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –∫ infrastructure layer

---

## üìû –ü–æ–º–æ—â—å

**–ï—Å–ª–∏ –∑–∞—Å—Ç—Ä—è–ª:**

1. **–ò–∑—É—á–∏ –ø—Ä–∏–º–µ—Ä—ã:**
   - `internal/application/message/*_test.go` - –ø—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤
   - `internal/application/user/` - –ø—Ä–∏–º–µ—Ä—ã Query UseCases
   - `tests/mocks/` - –≥–æ—Ç–æ–≤—ã–µ mocks

2. **–ü—Ä–æ–≤–µ—Ä—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
   - [09-chat-tests.md](./09-chat-tests.md) - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ç–µ—Å—Ç–æ–≤
   - [10-chat-queries.md](./10-chat-queries.md) - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω Query
   - [COMPLETION_PLAN.md](./COMPLETION_PLAN.md) - –æ–±—â–∏–π –ø–ª–∞–Ω

3. **–ò—Å–ø–æ–ª—å–∑—É–π –≥–æ—Ç–æ–≤—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É:**
   - Mocks —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã –≤ `tests/mocks/`
   - Fixtures –≥–æ—Ç–æ–≤—ã –≤ `tests/fixtures/`
   - Test utilities –≤ `tests/testutil/`

---

## ‚úÖ Definition of Done

UseCase layer —Å—á–∏—Ç–∞–µ—Ç—Å—è **–ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–º** –∫–æ–≥–¥–∞:

- [x] Phase 1: Architecture - 100%
- [ ] **Phase 2: Chat UseCases - 100%** ‚Üê –í –†–ê–ë–û–¢–ï
  - [ ] All Command UseCases tested
  - [ ] All Query UseCases implemented
  - [ ] Coverage >85%
- [x] Phase 3: Message UseCases - 100%
- [x] Phase 4: User UseCases - 100%
- [x] Phase 5: Workspace UseCases - 100%
- [x] Phase 6: Notification UseCases - 100% (UseCases only)
- [x] Phase 8: Tag Integration - 100%
- [ ] Phase 7: Integration Testing - 80%+ (–±–∞–∑–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

**–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞:** Task 09 + Task 10 = **–≥–æ—Ç–æ–≤–æ –∫ infrastructure layer**

---

**–°—Ñ–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ Task 09 –∏ Task 10 - —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ, —á—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å!** üéØ
