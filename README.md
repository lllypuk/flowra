# Chat System with Task Management

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —á–∞—Ç–∞ —Å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–∞—Å–∫-—Ç—Ä–µ–∫–µ—Ä–æ–º, help desk —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–º–∞–Ω–¥.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **Real-time —á–∞—Ç** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≥—Ä—É–ø–ø –∏ direct messages
- **–°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ –ø—Ä—è–º–æ –∏–∑ —á–∞—Ç–∞
- **Task management** —Å state machine –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
- **Help Desk** —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å SLA tracking
- **Keycloak –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** –¥–ª—è SSO –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **HTMX + Alpine.js** –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è JavaScript
- **WebSocket/SSE** –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **–ü–ª–∞–≥–∏–Ω—ã** –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](./docs/01-architecture.md) - –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](./docs/02-installation.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](./docs/03-database.md) - –°—Ö–µ–º–∞ –ë–î –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
- [Backend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞](./docs/04-backend.md) - Go —Å–µ—Ä–≤–∏—Å—ã –∏ API
- [Frontend —Å HTMX](./docs/05-frontend-htmx.md) - HTMX templates –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [Keycloak –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](./docs/06-keycloak.md) - SSO –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- [WebSocket/Real-time](./docs/07-websocket.md) - Real-time —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [–°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥](./docs/08-commands.md) - Command parser –∏ handlers
- [Help Desk](./docs/09-helpdesk.md) - SLA –∏ support —Ñ—É–Ω–∫—Ü–∏–∏
- [–ü–ª–∞–≥–∏–Ω—ã](./docs/10-plugins.md) - –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](./docs/11-testing.md) - Unit, integration –∏ E2E —Ç–µ—Å—Ç—ã
- [Deployment](./docs/12-deployment.md) - Production deployment
- [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥](./docs/13-monitoring.md) - –ú–µ—Ç—Ä–∏–∫–∏ –∏ health checks
- [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](./docs/14-api.md) - REST API endpoints

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **Go 1.25+** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **Echo v4** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **PostgreSQL 18+** - –æ—Å–Ω–æ–≤–Ω–∞—è –ë–î
- **Redis** - –∫–µ—à –∏ pub/sub
- **Keycloak** - SSO –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

### Frontend
- **HTMX 2+** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **Pico CSS v2** - –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π CSS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
chat-system/
‚îú‚îÄ‚îÄ cmd/                    # –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ api/               # HTTP API —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ websocket/         # WebSocket —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ worker/            # Background workers
‚îÇ   ‚îî‚îÄ‚îÄ migrator/          # DB –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ internal/              # –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ domain/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ repository/       # –°–ª–æ–π —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ service/          # –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ handler/          # HTTP/WS handlers
‚îÇ   ‚îú‚îÄ‚îÄ auth/             # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ keycloak/     # Keycloak –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ command/          # Command processors
‚îÇ   ‚îî‚îÄ‚îÄ event/            # Event bus
‚îú‚îÄ‚îÄ pkg/                   # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞–∫–µ—Ç—ã
‚îú‚îÄ‚îÄ web/                   # Frontend —Ä–µ—Å—É—Ä—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ templates/        # HTML templates
‚îÇ   ‚îú‚îÄ‚îÄ static/           # CSS, JS
‚îÇ   ‚îî‚îÄ‚îÄ components/       # HTMX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ migrations/           # SQL –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ config/               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ deployments/          # Docker –∏ K8s –∫–æ–Ω—Ñ–∏–≥–∏
‚îú‚îÄ‚îÄ scripts/              # Utility scripts
‚îú‚îÄ‚îÄ tests/                # –¢–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ docs/                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üö¶ Quick Start

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.25+
- Docker & Docker Compose
- PostgreSQL 17+
- Redis 7+

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/yourorg/chat-system.git
cd chat-system
```

2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env —Ñ–∞–π–ª
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É:
```bash
docker-compose up -d postgres redis keycloak
```

4. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:
```bash
go run cmd/migrator/main.go up
```

5. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
go run cmd/api/main.go
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ http://localhost:8080

## üìä Timeline –ø—Ä–æ–µ–∫—Ç–∞

### –§–∞–∑—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

| –§–∞–∑–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –°—Ç–∞—Ç—É—Å |
|------|----------|--------------|--------|
| 1 | –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –±–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | 2-3 –Ω–µ–¥–µ–ª–∏ | üîÑ |
| 2 | –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | 3-4 –Ω–µ–¥–µ–ª–∏ | ‚è≥ |
| 3 | WebSocket –∏ Real-time | 2-3 –Ω–µ–¥–µ–ª–∏ | ‚è≥ |
| 4 | –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥ –∏ –∑–∞–¥–∞—á | 3-4 –Ω–µ–¥–µ–ª–∏ | ‚è≥ |
| 5 | Help Desk —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | 2-3 –Ω–µ–¥–µ–ª–∏ | ‚è≥ |
| 6 | UI –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç | 2-3 –Ω–µ–¥–µ–ª–∏ | ‚è≥ |
| 7 | Background Jobs | 2 –Ω–µ–¥–µ–ª–∏ | ‚è≥ |
| 8 | –î–µ–ø–ª–æ–π –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | 2 –Ω–µ–¥–µ–ª–∏ | ‚è≥ |
| 9 | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | 2-3 –Ω–µ–¥–µ–ª–∏ | ‚è≥ |
| 10 | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 2-3 –Ω–µ–¥–µ–ª–∏ | ‚è≥ |
| 11 | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ | 3-4 –Ω–µ–¥–µ–ª–∏ | ‚è≥ |
| 12 | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | 2 –Ω–µ–¥–µ–ª–∏ | ‚è≥ |
| 13 | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 1-2 –Ω–µ–¥–µ–ª–∏ | ‚è≥ |

**–û–±—â–µ–µ –≤—Ä–µ–º—è**: 25-30 –Ω–µ–¥–µ–ª—å (6-7 –º–µ—Å—è—Ü–µ–≤)
**MVP**: 10-12 –Ω–µ–¥–µ–ª—å

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- OAuth 2.0/OIDC —á–µ—Ä–µ–∑ Keycloak
- JWT tokens —Å refresh –º–µ—Ö–∞–Ω–∏–∑–º–æ–º
- RBAC (Role-Based Access Control)
- Rate limiting
- CORS –∑–∞—â–∏—Ç–∞
- SQL injection –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ prepared statements
- XSS –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ template escaping
- CSRF —Ç–æ–∫–µ–Ω—ã –¥–ª—è —Ñ–æ—Ä–º

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# Unit —Ç–µ—Å—Ç—ã
go test ./...

# Integration —Ç–µ—Å—Ç—ã
go test ./tests/integration -tags=integration

# E2E —Ç–µ—Å—Ç—ã
go test ./tests/e2e -tags=e2e

# –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
go test ./tests/load -tags=load
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- Prometheus –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ `/metrics`
- Health checks –Ω–∞ `/health`
- Grafana –¥–∞—à–±–æ—Ä–¥—ã
- Structured logging —á–µ—Ä–µ–∑ zerolog
- Distributed tracing (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## ü§ù Contributing

–°–º. [CONTRIBUTING.md](./CONTRIBUTING.md) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

[MIT License](./LICENSE)

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- Email: support@yourcompany.com
- Slack: #chat-system-dev
- Issues: GitHub Issues

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [HTMX](https://htmx.org/) - –∑–∞ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º—É HTML
- [Echo](https://echo.labstack.com/) - –∑–∞ –±—ã—Å—Ç—Ä—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- [Keycloak](https://www.keycloak.org/) - –∑–∞ –º–æ—â–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

---

**Version**: 1.0.0
